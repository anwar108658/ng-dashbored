<div class="h-screen w-full flex bg-gray-300">
  <!-- menu -->
  <div
    [class.w-64]="isSidebarOpen"
    [class.w-13]="!isSidebarOpen"
    class="bg-[#1A2037] text-white transition-all duration-300 z-10"
  >
    <!-- menu-Header -->
    <div class="flex items-center justify-between p-2">
      @if (isSidebarOpen) {
      <img
        src="assets/logo.png"
        [routerLink]="'/'"
        class="w-10 h-10 rounded-[50%] bg-cyan-900 p-1 cursor-pointer"
        alt=""
      />
      }
      <app-button
        (clicked)="toggleSidebar()"
        variant="outline"
        className="text-white! p-2! cursor-ew-resize! hover:bg-cyan-800"
        icon="fa-solid fa-bars"
        iconPosition="right"
      ></app-button>
    </div>
    <!-- Menus -->
    <ul class="flex flex-col py-2 text-[.9rem]">
      @for (menu of menus; track $index) {
      <li>
        <app-button
          [label]="isSidebarOpen ? menu.title : ''"
          [icon]="menu.icon"
          [secondaryIcon]="isSidebarOpen ? menu.secondaryIcon : ''"
          [className]="
              (isSidebarOpen ? ' justify-between!' : ' justify-center! ') +
              (activeMenuId === menu.id ? ' text-cyan-400!' : '') +
              ' w-full! bg-transparent! hover:bg-gray-500/40! '
            "
          iconPosition="left"
          (clicked)="toggleMenu(menu.id)"
          [routerLink]="menu.link"
        ></app-button>

        <ul
          class="flex flex-col gap-1 ml-4 mb-2 overflow-hidden transition-all duration-300 border-l-2 border-cyan-600 bg-cyan-600/10"
          [class.max-h-0]="activeMenuId !== menu.id"
          [class.max-h-200]="activeMenuId === menu.id"
        >
          @for (subMenu of menu.children; track subMenu.id) {
          <app-button
            [label]="isSidebarOpen ? subMenu.title : ''"
            [icon]="subMenu.icon"
            className="w-full  px-2! text-[.7rem] bg-transparent! hover:bg-gray-500/40!"
            iconPosition="left"
            [routerLink]="subMenu.link"
          >
          </app-button>
          }
        </ul>
      </li>
      }
    </ul>
  </div>

  <!-- dashboard -->
  <div class="flex-1 overflow-x-hidden">
    <router-outlet />
  </div>
</div>
